import{f as $,o as _,c as b,a as e,F as S,y as V,C as y,D as F,l as q,d as C,w as T,E as c,b as U,r as P,e as H}from"./index-BxvgFDSG.js";const O={class:"modal room-modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},A={class:"modal-dialog"},G={class:"modal-content"},J={class:"modal-body"},K=["onClick"],Q={class:"row g-0"},tt={class:"col-md-4"},et=["src"],ot={class:"col-md-8"},st={class:"card-body"},lt={class:"card-title fw-bold"},at={class:"card-text",style:{"font-size":"14px"}},nt={class:"fw-semibold text-body-secondary mt-1"},it={__name:"RoomWallpaperModal",setup(Y){const i=$([{id:1,title:"Обои Cristiana Masi I Damaschi 23613",description:"Cristiana Masi всегда следит за качеством продукции. Данная модель обоев имеет артикул 23613. Виниловые обои часто используют как в квартирах, так и в загородных домах.",price:3e3,wallpaperImg:"/wallpaper.jpg"},{id:2,title:"Обои Rasch Nubia",description:"Коллекция текстильных обоев Rasch Textil Nubia - творение немецких дизайнеров с выверенными линиями и формами гармонично сочетающимися друг с другом, как сообщающиеся сосуды.",price:3500,wallpaperImg:"/wallpaper-2.jpg"},{id:3,title:"Обои Rasch Nubia 085180",description:"Коллекция текстильных обоев Rasch Textil Nubia - творение немецких дизайнеров с выверенными линиями и формами гармонично сочетающимися друг с другом, как сообщающиеся сосуды.",price:4500,wallpaperImg:"/wallpaper-3.jpg"}]);return(s,n)=>(_(),b("div",O,[e("div",A,[e("div",G,[n[0]||(n[0]=e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбрать обои"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",J,[(_(!0),b(S,null,V(i.value,l=>(_(),b("div",{class:"card room-modal__card mb-3",style:{"max-width":"540px"},"data-bs-dismiss":"modal",key:l.id,onClick:k=>s.$emit("changeWallpaper",l==null?void 0:l.wallpaperImg)},[e("div",Q,[e("div",tt,[e("img",{src:l.wallpaperImg,class:"room-modal__card-img img-fluid rounded-start",alt:"wallpaper"},null,8,et)]),e("div",ot,[e("div",st,[e("h5",lt,y(l.title),1),e("p",at,y(l.description),1),e("p",nt,y(l.price.toLocaleString("ru-RU"))+" тг/рулон ",1)])])])],8,K))),128))])])])]))}},rt={class:"bg-light min-vh-100 d-flex flex-column justify-content-between position-relative h-100vh overflow-hidden"},dt={class:"navbar navbar-default navbar-fixed-top"},ct={class:"container"},ut={class:"room__wrapper"},mt={class:"wall-left"},vt={class:"wall-left__right face"},pt={class:"wall-right"},gt={class:"wall-right__left face"},ft={class:"wall-top"},ht={class:"wall-top__front face"},_t={class:"wall-bottom"},bt={class:"wall-bottom__back face"},x=.5,L=2,wt=3,yt=4,z=27,Lt={__name:"RoomView",setup(Y){const i=$("/wallpaper-4.jpg"),s=$(1);let n=50,l=45;F(()=>{const a=document.querySelector("#h"),t=document.body;let d=!1,E,M;const j=30,B=90,u=o=>{if(!d||[...t.classList].includes("modal-open"))return;const g=((o.pageX||o.touches[0].pageX)-E)/window.innerWidth*120,f=((o.pageY||o.touches[0].pageY)-M)/window.innerHeight*120;let r=n-f,w=l-g;r=Math.max(j,Math.min(B,r)),a.style.transform=`
      perspective(90vw)
      rotateX(${r}deg)
      rotateZ(${w}deg)
      translateZ(-12vw)
    `,a.style.zoom=s.value},m=o=>{d=!0,E=o.pageX||o.touches[0].pageX,M=o.pageY||o.touches[0].pageY},v=()=>{d=!1;const o=a.style.transform.match(/rotateX\((.*?)deg\) rotateZ\((.*?)deg\)/);o&&(n=parseFloat(o[1]),l=parseFloat(o[2]))},X=o=>{o.preventDefault(),![...t.classList].includes("modal-open")&&(s.value+=o.deltaY/2*-.01,s.value=Math.max(x,Math.min(L,s.value)),a.style.transform=`
      perspective(90vw)
      rotateX(${n}deg)
      rotateZ(${l}deg)
      translateZ(-12vw)
    `,a.style.zoom=s.value)};let p=null;const Z=o=>{if(o.touches.length<2||[...t.classList].includes("modal-open"))return;const g=o.touches[0],f=o.touches[1],r=Math.hypot(g.pageX-f.pageX,g.pageY-f.pageY);p||(p=r);const w=r/p;s.value=Math.max(x,Math.min(L,s.value*w)),a.style.transform=`
      perspective(90vw)
      rotateX(${n}deg)
      rotateZ(${l}deg)
      translateZ(-12vw)
    `,a.style.zoom=s.value},R=()=>{p=null};t.addEventListener("mousedown",m),t.addEventListener("mousemove",u),t.addEventListener("mouseup",v),t.addEventListener("wheel",X),t.addEventListener("touchstart",m),t.addEventListener("touchmove",u),t.addEventListener("touchmove",Z),t.addEventListener("touchend",v),t.addEventListener("touchend",R),q(()=>{t.removeEventListener("mousedown",m),t.removeEventListener("mousemove",u),t.removeEventListener("mouseup",v),t.removeEventListener("wheel",X),t.removeEventListener("touchstart",m),t.removeEventListener("touchmove",u),t.removeEventListener("touchmove",Z),t.removeEventListener("touchend",v),t.removeEventListener("touchend",R)})});const k=z+"vw",D=z*yt/wt+"vw",N=()=>{s.value=Math.min(L,s.value+.05),document.querySelector("#h").style.transform=`
    perspective(90vw)
    rotateX(${n}deg)
    rotateZ(${l}deg)
    translateZ(-12vw)
  `,h.style.zoom=s.value},I=()=>{s.value=Math.max(x,s.value-.05),document.querySelector("#h").style.transform=`
    perspective(90vw)
    rotateX(${n}deg)
    rotateZ(${l}deg)
    translateZ(-12vw)
  `,h.style.zoom=s.value},W=a=>{a==null||a==null||(i.value=a)};return(a,t)=>{const d=P("router-link");return _(),b(S,null,[t[17]||(t[17]=e("button",{type:"button",class:"order-btn btn btn-success btn-lg"},"Оформить заказ",-1)),e("section",rt,[e("nav",dt,[e("div",ct,[C(d,{to:{name:"images-upload-page"},class:"btn btn-secondary navbar-btn pull-left"},{default:T(()=>t[0]||(t[0]=[H("Назад")])),_:1}),t[1]||(t[1]=e("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",class:"btn btn-primary navbar-btn pull-right"}," Выбрать обои ",-1))])]),e("div",ut,[e("div",{class:"room__zoom-buttons"},[e("div",{class:"container"},[e("div",{class:"d-flex align-items-end justufy-content-center flex-column"},[e("button",{type:"button",class:"btn btn-dark mb-1",onClick:N},t[2]||(t[2]=[e("svg",{fill:"#fff",height:"15px",width:"15px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512","xml:space":"preserve"},[e("g",null,[e("g",null,[e("polygon",{points:"289.391,222.609 289.391,0 222.609,0 222.609,222.609 0,222.609 0,289.391 222.609,289.391 222.609,512     289.391,512 289.391,289.391 512,289.391 512,222.609   "})])])],-1)])),e("button",{type:"button",class:"btn btn-secondary",onClick:I},t[3]||(t[3]=[e("svg",{fill:"#fff",height:"16px",width:"15px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512","xml:space":"preserve"},[e("g",null,[e("g",null,[e("rect",{y:"222.609",width:"512",height:"66.783"})])])],-1)]))])])]),e("div",{id:"h",class:"house",style:c({width:D,height:k})},[t[16]||(t[16]=U('<div class="floor"><div class="floor__front face"></div><div class="floor__back face"></div><div class="floor__right face"></div><div class="floor__left face"></div><div class="floor__top face"></div><div class="floor__bottom face"></div></div>',1)),e("div",mt,[e("div",vt,[e("span",{style:c(`background-image: url('${i.value}')`)},null,4)]),t[4]||(t[4]=e("div",{class:"wall-left__left face bordered"},null,-1)),t[5]||(t[5]=e("div",{class:"wall-left__top face"},null,-1)),t[6]||(t[6]=e("div",{class:"wall-left__bottom face"},null,-1))]),e("div",pt,[t[7]||(t[7]=e("div",{class:"wall-right__right face bordered"},null,-1)),e("div",gt,[e("span",{style:c(`background-image: url('${i.value}')`)},null,4)]),t[8]||(t[8]=e("div",{class:"wall-right__top face"},null,-1)),t[9]||(t[9]=e("div",{class:"wall-right__bottom face"},null,-1))]),e("div",ft,[e("div",ht,[e("span",{style:c(`background-image: url('${i.value}')`)},null,4)]),t[10]||(t[10]=e("div",{class:"wall-top__back face bordered"},null,-1)),t[11]||(t[11]=e("div",{class:"wall-top__top face"},null,-1)),t[12]||(t[12]=e("div",{class:"wall-top__bottom face"},null,-1))]),e("div",_t,[t[13]||(t[13]=e("div",{class:"wall-bottom__front face bordered"},null,-1)),e("div",bt,[e("span",{style:c(`background-image: url('${i.value}')`)},null,4)]),t[14]||(t[14]=e("div",{class:"wall-bottom__top face"},null,-1)),t[15]||(t[15]=e("div",{class:"wall-bottom__bottom face"},null,-1))])],4)])]),C(it,{onChangeWallpaper:W})],64)}}};export{Lt as default};
