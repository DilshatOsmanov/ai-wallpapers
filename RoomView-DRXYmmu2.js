import{f as h,o as x,c as y,a as e,b as k,F as Y,y as T,C,D as U,l as H,d as S,w as P,E as m,B as v,r as A,e as G}from"./index-Ddp92KcO.js";const O={class:"modal room-modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},J={class:"modal-dialog"},K={class:"modal-content"},Q={class:"modal-body"},tt={class:"room-modal__card-wrapper"},et=["src"],ot={class:"room-modal__card-title"},at={class:"room-modal__card-inner"},lt={class:"room-modal__card-price"},st=["onClick"],it={__name:"RoomWallpaperModal",setup(D){const r=h([{id:1,title:"Обои Cristiana Masi I Damaschi 23613",description:"Cristiana Masi всегда следит за качеством продукции. Данная модель обоев имеет артикул 23613. Виниловые обои часто используют как в квартирах, так и в загородных домах.",price:3e3,wallpaperImg:"/ai-wallpapers/wallpaper.jpg"},{id:2,title:"Обои Rasch Nubia",description:"Коллекция текстильных обоев Rasch Textil Nubia - творение немецких дизайнеров с выверенными линиями и формами гармонично сочетающимися друг с другом, как сообщающиеся сосуды.",price:3500,wallpaperImg:"/ai-wallpapers/wallpaper-2.jpg"},{id:3,title:"Обои Rasch Nubia 085180",description:"Коллекция текстильных обоев Rasch Textil Nubia - творение немецких дизайнеров с выверенными линиями и формами гармонично сочетающимися друг с другом, как сообщающиеся сосуды.",price:4500,wallpaperImg:"/ai-wallpapers/wallpaper-3.jpg"}]);return(a,i)=>(x(),y("div",O,[e("div",J,[e("div",K,[i[1]||(i[1]=e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбрать материал"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",Q,[i[0]||(i[0]=k('<select class="form-select mb-3" aria-label="Material select"><option selected value="wallpaper">Обои</option><option value="1">Плитка</option><option value="2">Краска</option><option value="3">Панели</option></select>',1)),e("div",tt,[(x(!0),y(Y,null,T(r.value,l=>(x(),y("div",{class:"room-modal__card mb-3",style:{"max-width":"540px"},key:l.id},[e("div",null,[e("img",{src:l.wallpaperImg,class:"room-modal__card-img img-fluid",alt:"wallpaper"},null,8,et),e("h5",ot,C(l.title),1)]),e("div",at,[e("p",lt,C(l.price.toLocaleString("ru-RU"))+" тг/рулон ",1),e("button",{class:"room-modal__card-btn btn btn-sm btn-primary",type:"button","data-bs-dismiss":"modal",onClick:n=>a.$emit("changeWallpaper",l==null?void 0:l.wallpaperImg)}," Выбрать ",8,st)])]))),128))])])])])]))}},nt={class:"bg-light d-flex flex-column justify-content-between position-relative overflow-hidden"},dt={class:"navbar navbar-default navbar-fixed-top"},rt={class:"container"},ct={class:"room__wrapper"},vt={class:"wall-left__right face"},ut={class:"wall-right__left face"},mt={class:"wall-top__front face"},pt={class:"wall-bottom__back face"},L=.5,$=2,ft=3,_t=4,W=27,bt={__name:"RoomView",setup(D){const r=h("/ai-wallpapers/wallpaper-4.jpg"),a=h(1);let i=50,l=45;const n=h(!0);U(()=>{const d=document.querySelector("#h"),t=document.body;let u=!1,E,M;const F=30,V=90,p=o=>{if(!u||[...t.classList].includes("modal-open"))return;const s=((o.pageX||o.touches[0].pageX)-E)/window.innerWidth*120,b=((o.pageY||o.touches[0].pageY)-M)/window.innerHeight*120;let c=i-b,w=l-s;q(w),c=Math.max(F,Math.min(V,c)),d.style.transform=`
      perspective(90vw)
      rotateX(${c}deg)
      rotateZ(${w}deg)
      translateZ(-12vw)
      scale(${a.value})
    `},f=o=>{u=!0,E=o.pageX||o.touches[0].pageX,M=o.pageY||o.touches[0].pageY},_=()=>{u=!1;const o=d.style.transform.match(/rotateX\((.*?)deg\) rotateZ\((.*?)deg\)/);o&&(i=parseFloat(o[1]),l=parseFloat(o[2]))},q=o=>{let s=o%360;s<0&&(s=-s),s>=0&&s<120||s>=300&&s<360?n.value=!0:s>=120&&s<300&&(n.value=!1)},X=o=>{o.preventDefault(),![...t.classList].includes("modal-open")&&(a.value+=o.deltaY/2*-.01,a.value=Math.max(L,Math.min($,a.value)),d.style.transform=`
      perspective(90vw)
      rotateX(${i}deg)
      rotateZ(${l}deg)
      translateZ(-12vw)
      scale(${a.value})
    `)};let g=null;const Z=o=>{if(o.touches.length<2||[...t.classList].includes("modal-open"))return;const s=o.touches[0],b=o.touches[1],c=Math.hypot(s.pageX-b.pageX,s.pageY-b.pageY);g||(g=c);const w=c/g;a.value=Math.max(L,Math.min($,a.value*w)),d.style.transform=`
      perspective(90vw)
      rotateX(${i}deg)
      rotateZ(${l}deg)
      translateZ(-12vw)
      scale(${a.value})
    `},R=()=>{g=null};t.addEventListener("mousedown",f),t.addEventListener("mousemove",p),t.addEventListener("mouseup",_),t.addEventListener("wheel",X),t.addEventListener("touchstart",f),t.addEventListener("touchmove",p),t.addEventListener("touchmove",Z),t.addEventListener("touchend",_),t.addEventListener("touchend",R),H(()=>{t.removeEventListener("mousedown",f),t.removeEventListener("mousemove",p),t.removeEventListener("mouseup",_),t.removeEventListener("wheel",X),t.removeEventListener("touchstart",f),t.removeEventListener("touchmove",p),t.removeEventListener("touchmove",Z),t.removeEventListener("touchend",_),t.removeEventListener("touchend",R)})});const N=W+"vw",B=W*_t/ft+"vw",I=()=>{a.value=Math.min($,a.value+.05),document.querySelector("#h").style.transform=`
    perspective(90vw)
    rotateX(${i}deg)
    rotateZ(${l}deg)
    translateZ(-12vw)
    scale(${a.value})
  `},j=()=>{a.value=Math.max(L,a.value-.05),document.querySelector("#h").style.transform=`
    perspective(90vw)
    rotateX(${i}deg)
    rotateZ(${l}deg)
    translateZ(-12vw)
    scale(${a.value})
  `},z=d=>{d==null||d==null||(r.value=d)};return(d,t)=>{const u=A("router-link");return x(),y(Y,null,[t[22]||(t[22]=e("button",{type:"button",class:"order-btn btn btn-success btn-lg"},"Оформить заказ",-1)),e("section",nt,[e("nav",dt,[e("div",rt,[S(u,{to:{name:"images-upload-page"},class:"btn btn-secondary navbar-btn pull-left"},{default:P(()=>t[0]||(t[0]=[G("Назад")])),_:1}),t[1]||(t[1]=e("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",class:"btn btn-primary navbar-btn pull-right"}," Выбрать материал ",-1))])]),e("div",ct,[e("div",{class:"room__zoom-buttons"},[e("div",{class:"container"},[e("div",{class:"d-flex align-items-end justufy-content-center flex-column"},[e("button",{type:"button",class:"btn btn-dark mb-1",onClick:I},t[2]||(t[2]=[e("svg",{fill:"#fff",height:"15px",width:"15px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512","xml:space":"preserve"},[e("g",null,[e("g",null,[e("polygon",{points:"289.391,222.609 289.391,0 222.609,0 222.609,222.609 0,222.609 0,289.391 222.609,289.391 222.609,512     289.391,512 289.391,289.391 512,289.391 512,222.609   "})])])],-1)])),e("button",{type:"button",class:"btn btn-secondary",onClick:j},t[3]||(t[3]=[e("svg",{fill:"#fff",height:"16px",width:"15px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512","xml:space":"preserve"},[e("g",null,[e("g",null,[e("rect",{y:"222.609",width:"512",height:"66.783"})])])],-1)]))])])]),e("div",{id:"h",class:"house",style:m({width:B,height:N})},[t[21]||(t[21]=k('<div class="floor"><div class="floor__front face"></div><div class="floor__back face"></div><div class="floor__right face"></div><div class="floor__left face"></div><div class="floor__top face"></div><div class="floor__bottom face"></div></div>',1)),e("div",{class:v(["wall-left",{active:!n.value}])},[t[4]||(t[4]=e("div",{class:"wall-left__front face"},null,-1)),e("div",vt,[e("span",{style:m(`background-image: url('${r.value}')`)},null,4),e("div",{class:v(["room-window",{active:!n.value}])},null,2)]),t[5]||(t[5]=e("div",{class:"wall-left__left face bordered"},null,-1)),t[6]||(t[6]=e("div",{class:"wall-left__top face"},null,-1)),t[7]||(t[7]=e("div",{class:"wall-left__bottom face"},null,-1))],2),e("div",{class:v(["wall-right",{active:n.value}])},[t[8]||(t[8]=e("div",{class:"wall-right__back face"},null,-1)),t[9]||(t[9]=e("div",{class:"wall-right__right face bordered"},null,-1)),e("div",ut,[e("span",{style:m(`background-image: url('${r.value}')`)},null,4)]),t[10]||(t[10]=e("div",{class:"wall-right__top face"},null,-1)),t[11]||(t[11]=e("div",{class:"wall-right__bottom face"},null,-1))],2),e("div",{class:v(["wall-top",{active:!n.value}])},[e("div",mt,[e("span",{style:m(`background-image: url('${r.value}')`)},null,4)]),t[12]||(t[12]=e("div",{class:"wall-top__back face bordered"},null,-1)),t[13]||(t[13]=e("div",{class:"wall-top__top face"},null,-1)),t[14]||(t[14]=e("div",{class:"wall-top__bottom face"},null,-1)),t[15]||(t[15]=e("div",{class:"wall-top__right face"},null,-1))],2),e("div",{class:v(["wall-bottom",{active:n.value}])},[t[16]||(t[16]=e("div",{class:"wall-bottom__front face bordered"},null,-1)),e("div",pt,[e("span",{style:m(`background-image: url('${r.value}')`)},null,4)]),t[17]||(t[17]=e("div",{class:"wall-bottom__top face"},null,-1)),t[18]||(t[18]=e("div",{class:"wall-bottom__bottom face"},null,-1)),t[19]||(t[19]=e("div",{class:"wall-bottom__left face"},null,-1))],2),e("div",{class:v(["door-c",{active:!n.value}])},t[20]||(t[20]=[k('<div class="door"><div class="door__front face"></div><div class="door__back face"></div><div class="door__right face"></div><div class="door__left face"></div><div class="door__top face"></div><div class="door__bottom face"></div></div><div class="door-l"><div class="door-l__front face"></div><div class="door-l__back face"></div><div class="door-l__right face"></div><div class="door-l__left face"></div><div class="door-l__top face"></div><div class="door-l__bottom face"></div></div><div class="door-r"><div class="door-r__front face"></div><div class="door-r__back face"></div><div class="door-r__right face"></div><div class="door-r__left face"></div><div class="door-r__top face"></div><div class="door-r__bottom face"></div></div><div class="door-t"><div class="door-t__front face"></div><div class="door-t__back face"></div><div class="door-t__right face"></div><div class="door-t__left face"></div><div class="door-t__top face"></div><div class="door-t__bottom face"></div></div>',4)]),2)],4)])]),S(it,{onChangeWallpaper:z})],64)}}};export{bt as default};
