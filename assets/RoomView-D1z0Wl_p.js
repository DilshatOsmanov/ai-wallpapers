import{g as J}from"./room-DrnCQNGW.js";import{d as c,o as $,c as P,a as t,j as C,F,e as K,t as j,k as B,l as Q,r as ee,m as te,b as I,p as le,T as ae,n as _,q as X,s as oe}from"./index-CyAZYabP.js";const se={class:"modal room-modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ne={class:"modal-dialog"},re={class:"modal-content"},ie={class:"modal-body"},de={class:"room-modal__card-wrapper"},ue=["src"],ve={class:"room-modal__card-title"},ce={class:"room-modal__card-inner"},me={class:"room-modal__card-price"},pe=["onClick"],fe={__name:"RoomWallpaperModal",setup(R){const m=c([{id:1,title:"Обои Cristiana Masi I Damaschi 23613",description:"Cristiana Masi всегда следит за качеством продукции. Данная модель обоев имеет артикул 23613. Виниловые обои часто используют как в квартирах, так и в загородных домах.",price:3e3,wallpaperImg:"/wallpaper.jpg"},{id:2,title:"Обои Rasch Nubia",description:"Коллекция текстильных обоев Rasch Textil Nubia - творение немецких дизайнеров с выверенными линиями и формами гармонично сочетающимися друг с другом, как сообщающиеся сосуды.",price:3500,wallpaperImg:"/wallpaper-2.jpg"},{id:3,title:"Обои Rasch Nubia 085180",description:"Коллекция текстильных обоев Rasch Textil Nubia - творение немецких дизайнеров с выверенными линиями и формами гармонично сочетающимися друг с другом, как сообщающиеся сосуды.",price:4500,wallpaperImg:"/wallpaper-3.jpg"}]);return(o,r)=>($(),P("div",se,[t("div",ne,[t("div",re,[r[1]||(r[1]=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбрать материал"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),t("div",ie,[r[0]||(r[0]=C('<select class="form-select mb-3" aria-label="Material select"><option selected value="wallpaper">Обои</option><option value="1">Плитка</option><option value="2">Краска</option><option value="3">Панели</option></select>',1)),t("div",de,[($(!0),P(F,null,K(m.value,n=>($(),P("div",{class:"room-modal__card mb-3",style:{"max-width":"540px"},key:n.id},[t("div",null,[t("img",{src:n.wallpaperImg,class:"room-modal__card-img img-fluid",alt:"wallpaper"},null,8,ue),t("h5",ve,j(n.title),1)]),t("div",ce,[t("p",me,j(n.price.toLocaleString("ru-RU"))+" тг/рулон ",1),t("button",{class:"room-modal__card-btn btn btn-sm btn-primary",type:"button","data-bs-dismiss":"modal",onClick:i=>o.$emit("changeWallpaper",n==null?void 0:n.wallpaperImg)}," Выбрать ",8,pe)])]))),128))])])])])]))}},ge={class:"bg-light d-flex flex-column justify-content-between position-relative overflow-hidden"},we={class:"room__wrapper"},he={id:"h",class:"house"},_e={class:"wall-left__right face"},be={class:"wall-right__left face"},ye={class:"wall-top__front face"},$e={class:"wall-bottom__back face"},S=1,W=3,xe=4,f=3,Le=2.5,v=27,Me=.9,ke=1.8,Ee=.7,Xe=1.3,Pe=1.2,Z=1,Se=.1,De={__name:"RoomView",setup(R){const m=c("/wallpaper-4.jpg"),o=c(1);let r=50,n=45;const i=c(!1),g=c(!0),p=c(!1),u=c(!0),d=c(-12);B(async()=>{await J()}),B(()=>{const s=document.querySelector("#h"),e=document.body;let b=!1,D,Y;const U=30,A=90,x=l=>{if(!b||[...e.classList].includes("modal-open"))return;const a=((l.pageX||l.touches[0].pageX)-D)/window.innerWidth*120,k=((l.pageY||l.touches[0].pageY)-Y)/window.innerHeight*120;let h=r-k,E=n-a;O(E),h=Math.max(U,Math.min(A,h)),s.style.transform=`
      perspective(90vw)
      rotateX(${h}deg)
      rotateZ(${E}deg)
      translateZ(${d.value}vw)
    `,w()},L=l=>{b=!0,D=l.pageX||l.touches[0].pageX,Y=l.pageY||l.touches[0].pageY},M=()=>{b=!1;const l=s.style.transform.match(/rotateX\((.*?)deg\) rotateZ\((.*?)deg\)/);l&&(r=parseFloat(l[1]),n=parseFloat(l[2]))},O=l=>{let a=l%360;a<0&&(a=-a),i.value=!1,g.value=!1,p.value=!1,u.value=!1,a>=0&&a<=10&&l>=0&&(i.value=!0,u.value=!0),a>=10&&a<=100&&l>=0&&(g.value=!0,u.value=!0),a>=100&&a<=190&&l>=0&&(g.value=!0,p.value=!0),a>=190&&a<=280&&l>=0&&(i.value=!0,p.value=!0),a>=280&&a<=360&&l>=0&&(i.value=!0,u.value=!0),a>=0&&a<=10&&l<0&&(i.value=!0,u.value=!0),a>=10&&a<=100&&l<0&&(i.value=!0,u.value=!0),a>=100&&a<=190&&l<0&&(i.value=!0,p.value=!0),a>=190&&a<=280&&l<0&&(g.value=!0,p.value=!0),a>=280&&a<=360&&l<0&&(g.value=!0,u.value=!0)},z=l=>{l.preventDefault(),![...e.classList].includes("modal-open")&&(o.value+=l.deltaY/2*-.01,o.value=Math.max(S,Math.min(W,o.value)),d.value=-12-(o.value-1)*10,s.style.transform=`
      perspective(90vw)
      rotateX(${r}deg)
      rotateZ(${n}deg)
      translateZ(${d.value}vw)
    `,w())};let y=null;const G=.1,H=l=>{if(l.touches.length<2||[...e.classList].includes("modal-open"))return;const a=l.touches[0],k=l.touches[1],h=Math.hypot(a.pageX-k.pageX,a.pageY-k.pageY);y||(y=h);const E=1+(h-y)/y*G;o.value=Math.max(S,Math.min(W,o.value*E)),d.value=-12-(o.value-1)*10,s.style.transform=`
    perspective(90vw)
    rotateX(${r}deg)
    rotateZ(${n}deg)
    translateZ(${d.value}vw)
  `,w()},N=()=>{y=null};e.addEventListener("mousedown",L),e.addEventListener("mousemove",x),e.addEventListener("mouseup",M),e.addEventListener("wheel",z),e.addEventListener("touchstart",L),e.addEventListener("touchmove",x),e.addEventListener("touchmove",H),e.addEventListener("touchend",M),e.addEventListener("touchend",N),Q(()=>{e.removeEventListener("mousedown",L),e.removeEventListener("mousemove",x),e.removeEventListener("mouseup",M),e.removeEventListener("wheel",z),e.removeEventListener("touchstart",L),e.removeEventListener("touchmove",x),e.removeEventListener("touchmove",H),e.removeEventListener("touchend",M),e.removeEventListener("touchend",N)}),w()});const T=()=>{o.value=Math.min(W,o.value+.05),d.value=-12-(o.value-1)*10,document.querySelector("#h").style.transform=`
    perspective(90vw)
    rotateX(${r}deg)
    rotateZ(${n}deg)
    translateZ(${d.value}vw)
  `,w()},V=()=>{o.value=Math.max(S,o.value-.05),d.value=-12-(o.value-1)*10,document.querySelector("#h").style.transform=`
    perspective(90vw)
    rotateX(${r}deg)
    rotateZ(${n}deg)
    translateZ(${d.value}vw)
  `,w()},w=()=>{const s=document.documentElement;s.style.setProperty("--room-width",`${v*o.value}vw`),s.style.setProperty("--room-length",`${v*xe*o.value/f}vw`),s.style.setProperty("--room-height",`${v*Le*o.value/f}vw`),s.style.setProperty("--door-width",`${v*Me*o.value/f}vw`),s.style.setProperty("--door-height",`${v*ke*o.value/f}vw`),s.style.setProperty("--window-length",`${v*Ee*o.value/f}vw`),s.style.setProperty("--window-width",`${v*Xe*o.value/f}vw`),s.style.setProperty("--window-height",`${v*Pe*o.value/f}vw`),s.style.setProperty("--wall-depth",`${Z*o.value}vw`),s.style.setProperty("--half-wall-depth",`${Z*o.value/2}vw`),s.style.setProperty("--line-depth",`${Se*o.value}vw`)},q=s=>{s==null||s==null||(m.value=s)};return(s,e)=>{const b=ee("router-link");return $(),P(F,null,[e[20]||(e[20]=t("div",{class:"order-btn"},[t("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",class:"btn btn-primary navbar-btn pull-right me-2"}," Выбрать материал "),t("button",{type:"button",class:"btn btn-success"},"Оформить заказ")],-1)),t("section",ge,[($(),te(ae,{to:"#header_topbar"},[I(b,{to:{name:"images-upload-page"},class:"btn btn-secondary navbar-btn pull-left"},{default:le(()=>e[0]||(e[0]=[oe("Назад")])),_:1})])),t("div",we,[t("div",{class:"room__zoom-buttons"},[t("div",{class:"container"},[t("div",{class:"d-flex align-items-end justufy-content-center flex-column"},[t("button",{type:"button",class:"btn btn-dark mb-1",onClick:T},e[1]||(e[1]=[t("svg",{fill:"#fff",height:"15px",width:"15px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512","xml:space":"preserve"},[t("g",null,[t("g",null,[t("polygon",{points:"289.391,222.609 289.391,0 222.609,0 222.609,222.609 0,222.609 0,289.391 222.609,289.391 222.609,512     289.391,512 289.391,289.391 512,289.391 512,222.609   "})])])],-1)])),t("button",{type:"button",class:"btn btn-secondary",onClick:V},e[2]||(e[2]=[t("svg",{fill:"#fff",height:"16px",width:"15px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512","xml:space":"preserve"},[t("g",null,[t("g",null,[t("rect",{y:"222.609",width:"512",height:"66.783"})])])],-1)]))])])]),t("div",he,[e[19]||(e[19]=C('<div class="floor"><div class="floor__front face"></div><div class="floor__back face"></div><div class="floor__right face"></div><div class="floor__left face"></div><div class="floor__top face"></div><div class="floor__bottom face"></div></div>',1)),t("div",{class:_(["wall-left",{active:i.value}])},[e[3]||(e[3]=t("div",{class:"wall-left__back face"},null,-1)),e[4]||(e[4]=t("div",{class:"wall-left__front face"},null,-1)),t("div",_e,[t("span",{style:X(`background-image: url('${m.value}')`)},null,4),t("div",{class:_(["room-window",{active:i.value}])},null,2)]),e[5]||(e[5]=t("div",{class:"wall-left__left face bordered"},null,-1)),e[6]||(e[6]=t("div",{class:"wall-left__top face"},null,-1)),e[7]||(e[7]=t("div",{class:"wall-left__bottom face"},null,-1))],2),t("div",{class:_(["wall-right",{active:g.value}])},[e[8]||(e[8]=t("div",{class:"wall-right__back face"},null,-1)),e[9]||(e[9]=t("div",{class:"wall-right__front face"},null,-1)),e[10]||(e[10]=t("div",{class:"wall-right__right face bordered"},null,-1)),t("div",be,[t("span",{style:X(`background-image: url('${m.value}')`)},null,4)]),e[11]||(e[11]=t("div",{class:"wall-right__top face"},null,-1)),e[12]||(e[12]=t("div",{class:"wall-right__bottom face"},null,-1))],2),t("div",{class:_(["wall-top",{active:p.value}])},[t("div",ye,[t("span",{style:X(`background-image: url('${m.value}')`)},null,4),t("div",{class:_(["room-door",{active:p.value}])},null,2)]),e[13]||(e[13]=C('<div class="wall-top__back face bordered"></div><div class="wall-top__top face"></div><div class="wall-top__bottom face"></div><div class="wall-top__right face"></div><div class="wall-top__left face"></div>',5))],2),t("div",{class:_(["wall-bottom",{active:u.value}])},[e[14]||(e[14]=t("div",{class:"wall-bottom__front face bordered"},null,-1)),t("div",$e,[t("span",{style:X(`background-image: url('${m.value}')`)},null,4)]),e[15]||(e[15]=t("div",{class:"wall-bottom__top face"},null,-1)),e[16]||(e[16]=t("div",{class:"wall-bottom__bottom face"},null,-1)),e[17]||(e[17]=t("div",{class:"wall-bottom__right face"},null,-1)),e[18]||(e[18]=t("div",{class:"wall-bottom__left face"},null,-1))],2)])])]),I(fe,{onChangeWallpaper:q})],64)}}};export{De as default};
