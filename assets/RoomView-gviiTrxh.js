import{d as c,o as x,c as P,a as t,k as C,F as j,e as G,t as B,l as J,m as K,r as Q,p as ee,b as I,q as te,T as le,n as _,s as X,x as ae}from"./index-NywCWorg.js";const se={class:"modal room-modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},oe={class:"modal-dialog"},ne={class:"modal-content"},re={class:"modal-body"},ie={class:"room-modal__card-wrapper"},de=["src"],ue={class:"room-modal__card-title"},ve={class:"room-modal__card-inner"},ce={class:"room-modal__card-price"},me=["onClick"],pe={__name:"RoomWallpaperModal",setup(F){const m=c([{id:1,title:"Обои Cristiana Masi I Damaschi 23613",description:"Cristiana Masi всегда следит за качеством продукции. Данная модель обоев имеет артикул 23613. Виниловые обои часто используют как в квартирах, так и в загородных домах.",price:3e3,wallpaperImg:"/wallpaper.jpg"},{id:2,title:"Обои Rasch Nubia",description:"Коллекция текстильных обоев Rasch Textil Nubia - творение немецких дизайнеров с выверенными линиями и формами гармонично сочетающимися друг с другом, как сообщающиеся сосуды.",price:3500,wallpaperImg:"/wallpaper-2.jpg"},{id:3,title:"Обои Rasch Nubia 085180",description:"Коллекция текстильных обоев Rasch Textil Nubia - творение немецких дизайнеров с выверенными линиями и формами гармонично сочетающимися друг с другом, как сообщающиеся сосуды.",price:4500,wallpaperImg:"/wallpaper-3.jpg"}]);return(s,r)=>(x(),P("div",se,[t("div",oe,[t("div",ne,[r[1]||(r[1]=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбрать материал"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),t("div",re,[r[0]||(r[0]=C('<select class="form-select mb-3" aria-label="Material select"><option selected value="wallpaper">Обои</option><option value="1">Плитка</option><option value="2">Краска</option><option value="3">Панели</option></select>',1)),t("div",ie,[(x(!0),P(j,null,G(m.value,n=>(x(),P("div",{class:"room-modal__card mb-3",style:{"max-width":"540px"},key:n.id},[t("div",null,[t("img",{src:n.wallpaperImg,class:"room-modal__card-img img-fluid",alt:"wallpaper"},null,8,de),t("h5",ue,B(n.title),1)]),t("div",ve,[t("p",ce,B(n.price.toLocaleString("ru-RU"))+" тг/рулон ",1),t("button",{class:"room-modal__card-btn btn btn-sm btn-primary",type:"button","data-bs-dismiss":"modal",onClick:i=>s.$emit("changeWallpaper",n==null?void 0:n.wallpaperImg)}," Выбрать ",8,me)])]))),128))])])])])]))}},fe={class:"bg-light d-flex flex-column justify-content-between position-relative overflow-hidden"},ge={class:"room__wrapper"},we={id:"h",class:"house"},he={class:"wall-left__right face"},_e={class:"wall-right__left face"},be={class:"wall-top__front face"},ye={class:"wall-bottom__back face"},S=1,W=3,xe=4,f=3,$e=2.5,v=27,Le=.9,Me=1.8,ke=.7,Ee=1.3,Xe=1.2,Z=1,Pe=.1,We={__name:"RoomView",setup(F){const m=c("/wallpaper-4.jpg"),s=c(1);let r=50,n=45;const i=c(!1),g=c(!0),p=c(!1),u=c(!0),d=c(-12);J(()=>{const o=document.querySelector("#h"),e=document.body;let b=!1,D,Y;const q=30,U=90,$=l=>{if(!b||[...e.classList].includes("modal-open"))return;const a=((l.pageX||l.touches[0].pageX)-D)/window.innerWidth*120,k=((l.pageY||l.touches[0].pageY)-Y)/window.innerHeight*120;let h=r-k,E=n-a;A(E),h=Math.max(q,Math.min(U,h)),o.style.transform=`
      perspective(90vw)
      rotateX(${h}deg)
      rotateZ(${E}deg)
      translateZ(${d.value}vw)
    `,w()},L=l=>{b=!0,D=l.pageX||l.touches[0].pageX,Y=l.pageY||l.touches[0].pageY},M=()=>{b=!1;const l=o.style.transform.match(/rotateX\((.*?)deg\) rotateZ\((.*?)deg\)/);l&&(r=parseFloat(l[1]),n=parseFloat(l[2]))},A=l=>{let a=l%360;a<0&&(a=-a),i.value=!1,g.value=!1,p.value=!1,u.value=!1,a>=0&&a<=10&&l>=0&&(i.value=!0,u.value=!0),a>=10&&a<=100&&l>=0&&(g.value=!0,u.value=!0),a>=100&&a<=190&&l>=0&&(g.value=!0,p.value=!0),a>=190&&a<=280&&l>=0&&(i.value=!0,p.value=!0),a>=280&&a<=360&&l>=0&&(i.value=!0,u.value=!0),a>=0&&a<=10&&l<0&&(i.value=!0,u.value=!0),a>=10&&a<=100&&l<0&&(i.value=!0,u.value=!0),a>=100&&a<=190&&l<0&&(i.value=!0,p.value=!0),a>=190&&a<=280&&l<0&&(g.value=!0,p.value=!0),a>=280&&a<=360&&l<0&&(g.value=!0,u.value=!0)},z=l=>{l.preventDefault(),![...e.classList].includes("modal-open")&&(s.value+=l.deltaY/2*-.01,s.value=Math.max(S,Math.min(W,s.value)),d.value=-12-(s.value-1)*10,o.style.transform=`
      perspective(90vw)
      rotateX(${r}deg)
      rotateZ(${n}deg)
      translateZ(${d.value}vw)
    `,w())};let y=null;const O=.1,H=l=>{if(l.touches.length<2||[...e.classList].includes("modal-open"))return;const a=l.touches[0],k=l.touches[1],h=Math.hypot(a.pageX-k.pageX,a.pageY-k.pageY);y||(y=h);const E=1+(h-y)/y*O;s.value=Math.max(S,Math.min(W,s.value*E)),d.value=-12-(s.value-1)*10,o.style.transform=`
    perspective(90vw)
    rotateX(${r}deg)
    rotateZ(${n}deg)
    translateZ(${d.value}vw)
  `,w()},N=()=>{y=null};e.addEventListener("mousedown",L),e.addEventListener("mousemove",$),e.addEventListener("mouseup",M),e.addEventListener("wheel",z),e.addEventListener("touchstart",L),e.addEventListener("touchmove",$),e.addEventListener("touchmove",H),e.addEventListener("touchend",M),e.addEventListener("touchend",N),K(()=>{e.removeEventListener("mousedown",L),e.removeEventListener("mousemove",$),e.removeEventListener("mouseup",M),e.removeEventListener("wheel",z),e.removeEventListener("touchstart",L),e.removeEventListener("touchmove",$),e.removeEventListener("touchmove",H),e.removeEventListener("touchend",M),e.removeEventListener("touchend",N)}),w()});const T=()=>{s.value=Math.min(W,s.value+.05),d.value=-12-(s.value-1)*10,document.querySelector("#h").style.transform=`
    perspective(90vw)
    rotateX(${r}deg)
    rotateZ(${n}deg)
    translateZ(${d.value}vw)
  `,w()},R=()=>{s.value=Math.max(S,s.value-.05),d.value=-12-(s.value-1)*10,document.querySelector("#h").style.transform=`
    perspective(90vw)
    rotateX(${r}deg)
    rotateZ(${n}deg)
    translateZ(${d.value}vw)
  `,w()},w=()=>{const o=document.documentElement;o.style.setProperty("--room-width",`${v*s.value}vw`),o.style.setProperty("--room-length",`${v*xe*s.value/f}vw`),o.style.setProperty("--room-height",`${v*$e*s.value/f}vw`),o.style.setProperty("--door-width",`${v*Le*s.value/f}vw`),o.style.setProperty("--door-height",`${v*Me*s.value/f}vw`),o.style.setProperty("--window-length",`${v*ke*s.value/f}vw`),o.style.setProperty("--window-width",`${v*Ee*s.value/f}vw`),o.style.setProperty("--window-height",`${v*Xe*s.value/f}vw`),o.style.setProperty("--wall-depth",`${Z*s.value}vw`),o.style.setProperty("--half-wall-depth",`${Z*s.value/2}vw`),o.style.setProperty("--line-depth",`${Pe*s.value}vw`)},V=o=>{o==null||o==null||(m.value=o)};return(o,e)=>{const b=Q("router-link");return x(),P(j,null,[e[20]||(e[20]=t("div",{class:"order-btn"},[t("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",class:"btn btn-primary navbar-btn pull-right me-2"}," Выбрать материал "),t("button",{type:"button",class:"btn btn-success"},"Оформить заказ")],-1)),t("section",fe,[(x(),ee(le,{to:"#header_topbar"},[I(b,{to:{name:"images-upload-page"},class:"btn btn-secondary navbar-btn pull-left"},{default:te(()=>e[0]||(e[0]=[ae("Назад")])),_:1})])),t("div",ge,[t("div",{class:"room__zoom-buttons"},[t("div",{class:"container"},[t("div",{class:"d-flex align-items-end justufy-content-center flex-column"},[t("button",{type:"button",class:"btn btn-dark mb-1",onClick:T},e[1]||(e[1]=[t("svg",{fill:"#fff",height:"15px",width:"15px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512","xml:space":"preserve"},[t("g",null,[t("g",null,[t("polygon",{points:"289.391,222.609 289.391,0 222.609,0 222.609,222.609 0,222.609 0,289.391 222.609,289.391 222.609,512     289.391,512 289.391,289.391 512,289.391 512,222.609   "})])])],-1)])),t("button",{type:"button",class:"btn btn-secondary",onClick:R},e[2]||(e[2]=[t("svg",{fill:"#fff",height:"16px",width:"15px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512","xml:space":"preserve"},[t("g",null,[t("g",null,[t("rect",{y:"222.609",width:"512",height:"66.783"})])])],-1)]))])])]),t("div",we,[e[19]||(e[19]=C('<div class="floor"><div class="floor__front face"></div><div class="floor__back face"></div><div class="floor__right face"></div><div class="floor__left face"></div><div class="floor__top face"></div><div class="floor__bottom face"></div></div>',1)),t("div",{class:_(["wall-left",{active:i.value}])},[e[3]||(e[3]=t("div",{class:"wall-left__back face"},null,-1)),e[4]||(e[4]=t("div",{class:"wall-left__front face"},null,-1)),t("div",he,[t("span",{style:X(`background-image: url('${m.value}')`)},null,4),t("div",{class:_(["room-window",{active:i.value}])},null,2)]),e[5]||(e[5]=t("div",{class:"wall-left__left face bordered"},null,-1)),e[6]||(e[6]=t("div",{class:"wall-left__top face"},null,-1)),e[7]||(e[7]=t("div",{class:"wall-left__bottom face"},null,-1))],2),t("div",{class:_(["wall-right",{active:g.value}])},[e[8]||(e[8]=t("div",{class:"wall-right__back face"},null,-1)),e[9]||(e[9]=t("div",{class:"wall-right__front face"},null,-1)),e[10]||(e[10]=t("div",{class:"wall-right__right face bordered"},null,-1)),t("div",_e,[t("span",{style:X(`background-image: url('${m.value}')`)},null,4)]),e[11]||(e[11]=t("div",{class:"wall-right__top face"},null,-1)),e[12]||(e[12]=t("div",{class:"wall-right__bottom face"},null,-1))],2),t("div",{class:_(["wall-top",{active:p.value}])},[t("div",be,[t("span",{style:X(`background-image: url('${m.value}')`)},null,4),t("div",{class:_(["room-door",{active:p.value}])},null,2)]),e[13]||(e[13]=C('<div class="wall-top__back face bordered"></div><div class="wall-top__top face"></div><div class="wall-top__bottom face"></div><div class="wall-top__right face"></div><div class="wall-top__left face"></div>',5))],2),t("div",{class:_(["wall-bottom",{active:u.value}])},[e[14]||(e[14]=t("div",{class:"wall-bottom__front face bordered"},null,-1)),t("div",ye,[t("span",{style:X(`background-image: url('${m.value}')`)},null,4)]),e[15]||(e[15]=t("div",{class:"wall-bottom__top face"},null,-1)),e[16]||(e[16]=t("div",{class:"wall-bottom__bottom face"},null,-1)),e[17]||(e[17]=t("div",{class:"wall-bottom__right face"},null,-1)),e[18]||(e[18]=t("div",{class:"wall-bottom__left face"},null,-1))],2)])])]),I(pe,{onChangeWallpaper:V})],64)}}};export{We as default};
